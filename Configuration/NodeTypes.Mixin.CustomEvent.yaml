'Carbon.Plausible:Mixin.CustomEvent':
  abstract: true
  properties:
    plausibleCustomEventName:
      type: string
      ui:
        label: 'Plausible custom event name'
        help:
          message: 'Add here the exact custom event name, who you have entered on your settings page on plausible.io. The event name can be anything. [More information](https://plausible.io/docs/custom-event-goals)'
        reloadIfChanged: false
        inspector:
          group: seometa
          position: 310
          hidden: 'ClientEval:node.properties.plausibleDoNotTrack ? true : false'
      validation:
        Neos.Neos/Validation/LabelValidator: []
    plausibleCustomEventJSON:
      type: string
      ui:
        label: 'Plausible custom event options'
        help:
          message: 'As a second parameter, you can also send an object with options. The supported options at the moment are:  

            **`callback`** – a function that is called once the event is logged successfully  

            **`props`** – an object with custom properties for the event  

            Examle:  
            ```
              { props: { path: document.location.pathname }, callback: myFunction() }
            ```'
        reloadIfChanged: false
        inspector:
          group: seometa
          position: 320
          hidden: 'ClientEval:!node.properties.plausibleCustomEventName || node.properties.plausibleDoNotTrack ? true : false'
          editor: 'Neos.Neos/Inspector/Editors/CodeEditor'
          editorOptions:
            highlightingMode: 'text/javascript'
      validation:
        Neos.Neos/Validation/StringValidator: []
        Neos.Neos/Validation/RegularExpressionValidator:
          # Very basic JSON validation
          regularExpression: '/^\s*\{[\s\S]*:[\s\S]*\}$/'
